<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Menu - Macarooon</title>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
    <script src="firebase.js"></script>

    <link rel="stylesheet" href="styles.css" />
    <link
      rel="icon"
      href="macarooon-logo-small.png"
      type="image/x-icon"
      width="100"
      height="100"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    <div id="toast"></div>

    <header class="title">
      <a href="index.html" class="back-home">
        <span>‚Üê Back to Home</span>
      </a>
      <div class="title-right">
        <img
        src="macarooon-logo-small.png"
        alt="Macarooon Logo"
        class="small-logo"
        />
        <a id="go-to-cart" href="cart_en.html" class="cart-link">
          <i class="fa-solid fa-cart-shopping"></i>
          <span id="cartCount">0</span>
        </a>
      </div>
    </header>

    <!-- HERO -->
    <header class="menu-hero">
      <div class="hero-inner">
        <h1 class="menu-title">Our Menu</h1>
        <p class="menu-sub">
          Handcrafted macarons, cookies and cakes ‚Äî fresh every day.
        </p>
      </div>
    </header>

    <!-- FILTER / CATEGORY BUTTONS -->
    <nav class="menu-filter" aria-label="Menu categories">
      <button class="filter-btn active" data-filter="all" type="button">
        All
      </button>
      <button class="filter-btn" data-filter="macarons" type="button">
        Macarons
      </button>
      <button class="filter-btn" data-filter="cookies" type="button">
        Cookies
      </button>
      <button class="filter-btn" data-filter="cakes" type="button">
        Cakes
      </button>
      <input
        class="menu-search"
        type="search"
        placeholder="Search menu."
        aria-label="Search menu"
      />
    </nav>

    <!-- MENU GRID -->
    <main class="menu-grid" id="menuGrid" aria-live="polite">
      <article class="menu-card" data-category="cookies">
        <img src="Cookies.png" alt="Classic Chocolate Chip" />
        <div class="card-body">
            <h4>Classic Chocolate Chip</h4>
            <p class="desc">Warm, gooey, loaded with chunks.</p>
            <div class="card-footer">
                <span class="price">‚Ç∫120</span>
                <div class="card-actions">
                    <button class="details-btn">Details</button>
                    <button class="add-to-cart"
                            data-name="Classic Chocolate Chip" 
                            data-price="45" 
                            data-image="Cookies.png">
                        <i class="fas fa-cart-plus"></i>
                    </button>
                </div>
            </div>
        </div>
      </article>

      <article class="menu-card" data-category="macarons">
        <img src="banana-macaron.png" alt="Banana Macaron" />
        <div class="card-body">
            <h4>Banana Macaron</h4>
            <p class="desc">Banana cream filled macaron</p>
            <div class="card-footer">
                <span class="price">‚Ç∫40</span>
                <div class="card-actions">
                    <button class="details-btn">Details</button>
                    <button class="add-to-cart"
                            data-name="Banana Macaron" 
                            data-price="40" 
                            data-image="banana-macaron.png">
                        <i class="fas fa-cart-plus"></i>
                    </button>
                </div>
            </div>
        </div>
      </article>

      <article class="menu-card" data-category="cookies">
        <img src="Brownie_Batter_Cookie.png" alt="Brownie Batter" />
        <div class="card-body">
            <h4>Brownie Batter Cookie</h4>
            <p class="desc">Deep chocolate flavor, fudgy center.</p>
            <div class="card-footer">
                <span class="price">‚Ç∫155</span>
                <div class="card-actions">
                    <button class="details-btn">Details</button>
                    <button class="add-to-cart"
                            data-name="Brownie Batter Cookie" 
                            data-price="155" 
                            data-image="Brownie_Batter_Cookie.png">
                        <i class="fas fa-cart-plus"></i>
                    </button>
                </div>
            </div>
        </div>
      </article>

      <article class="menu-card" data-category="cookies">
        <img src="matcha-cookie.png" alt="Matcha Cookie" />
        <div class="card-body">
            <h4>Matcha Cookie</h4>
            <p class="desc">Lightly bitter matcha with white chocolate.</p>
            <div class="card-footer">
                <span class="price">‚Ç∫150</span>
                <div class="card-actions">
                    <button class="details-btn">Details</button>
                    <button class="add-to-cart"
                            data-name="Matcha Cookie" 
                            data-price="150" 
                            data-image="matcha-cookie.png">
                        <i class="fas fa-cart-plus"></i>
                    </button>
                </div>
            </div>
        </div>
      </article>

      <article class="menu-card" data-category="cakes">
        <img src="tiramisu.png" alt="Original Tiramisu" />
        <div class="card-body">
            <h4>Original Tiramisu</h4>
            <p class="desc">The classic Italian dessert with layers of mascarpone and coffee-soaked ladyfingers topped of with strawberry.</p>
            <div class="card-footer">
                <span class="price">‚Ç∫175</span>
                <div class="card-actions">
                    <button class="details-btn">Details</button>
                    <button class="add-to-cart"
                            data-name="Original Tiramisu" 
                            data-price="175" 
                            data-image="tiramisu.png">
                        <i class="fas fa-cart-plus"></i>
                    </button>
                </div>
            </div>
        </div>
      </article>

      <article class="menu-card" data-category="macarons">
        <img src="cherry-macaron.png" alt="Cherry Macaron" />
        <div class="card-body">
            <p id="seasonal">üå≤ Christmas Special</p>
            <h4>Cherry Macaron</h4>
            <p class="desc">Our signature macaron with delightful cherry flavor. Only available during the holiday season.</p>
            <div class="card-footer">
                <span class="price">‚Ç∫65</span>
                <div class="card-actions">
                    <button class="details-btn">Details</button>
                    <button class="add-to-cart"
                            data-name="Cherry Macaron" 
                            data-price="65" 
                            data-image="cherry-macaron.png">
                        <i class="fas fa-cart-plus"></i>
                    </button>
                </div>
            </div>
        </div>
      </article>

      <article class="menu-card" data-category="cakes">
        <img src="strawberry-cheesecake.png" alt="Strawberry Cheesecake" />
        <div class="card-body">
            <p id="seasonal">üå≤ Christmas Special</p>
            <h4>Strawberry Cheesecake</h4>
            <p class="desc">Our signature cakebox with delightful strawberry and cream flavor. Only available during the holiday season.</p>
            <div class="card-footer">
                <span class="price">‚Ç∫200</span>
                <div class="card-actions">
                    <button class="details-btn">Details</button>
                    <button class="add-to-cart"
                            data-name="Strawberry Cheesecake" 
                            data-price="200" 
                            data-image="strawberry-cheesecake.png">
                        <i class="fas fa-cart-plus"></i>
                    </button>
                </div>
            </div>
        </div>
      </article>

      <article class="menu-card" data-category="macarons">
        <img src="strawberry-special.png" alt="Strawberry Macaron" />
        <div class="card-body">
            <p id="seasonal">üå≤ Christmas Special</p>
            <h4>Strawberry Christmas Macaron</h4>
            <p class="desc">Signature macaron filled with strawberry cream and pieces. Only available during the holiday season.</p>
            <div class="card-footer">
                <span class="price">‚Ç∫65</span>
                <div class="card-actions">
                    <button class="details-btn">Details</button>
                    <button class="add-to-cart"
                            data-name="Strawberry Christmas Macaron" 
                            data-price="65" 
                            data-image="strawberry-special.png">
                      <i class="fas fa-cart-plus"></i>
                    </button>
                </div>
            </div>
        </div>
      </article>

      <article class="menu-card" data-category="cakes">
        <img src="Cakes.png" alt="Matcha Tiramisu" />
        <div class="card-body">
            <h4>Matcha Tiramisu</h4>
            <p class="desc">Our signature tiramisu with the traditional matcha flavour</p>
            <div class="card-footer">
                <span class="price">‚Ç∫180</span>
                <div class="card-actions">
                    <button class="details-btn">Details</button>
                    <button class="add-to-cart"
                            data-name="Matcha Tiramisu" 
                            data-price="180" 
                            data-image="Cakes.png">
                      <i class="fas fa-cart-plus"></i>
                    </button>
                </div>
            </div>
        </div>
      </article>

      <article class="menu-card" data-category="macarons">
        <img src="redvelvet-macaron.png" alt="Red Velvet Macaron" />
        <div class="card-body">
            <h4>Red Velvet Macaron</h4>
            <p class="desc">Red velvet macaron with cream filling</p>
            <div class="card-footer">
                <span class="price">‚Ç∫40</span>
                <div class="card-actions">
                    <button class="details-btn">Details</button>
                    <button class="add-to-cart"
                            data-name="Red Velvet Macaron" 
                            data-price="40" 
                            data-image="redvelvet-macaron.png">
                      <i class="fas fa-cart-plus"></i>
                    </button>
                </div>
            </div>
        </div>
      </article>

      <article class="menu-card" data-category="macarons">
        <img src="macaron.png" alt="Chocolate Macaron" />
        <div class="card-body">
            <h4>Chocolate Macaron</h4>
            <p class="desc">Chocolate macaron with chocolate cream filling</p>
            <div class="card-footer">
                <span class="price">‚Ç∫40</span>
                <div class="card-actions">
                    <button class="details-btn">Details</button>
                    <button class="add-to-cart"
                            data-name="Chocolate Macaron" 
                            data-price="40" 
                            data-image="macaron.png">
                      <i class="fas fa-cart-plus"></i>
                    </button>
                </div>
            </div>
        </div>
      </article>
    </main>

    <!-- DETAILS MODAL -->
    <div id="detailsModal" class="details-modal hidden">
      <div class="modal-content">
        <div class="modal-image">
          <h2 id="modalTitle">Item Title</h2>
          <img id="modalImage" src="" alt="Item Image" />
        </div>
        <div class="modal-description">
          <p id="modalDesc">Item Description</p>
          <p id="modalAllergens"><strong>Allergens:</strong> <span></span></p>
          <p id="modalPrice"><strong>Price:</strong> ‚Ç∫<span></span></p>
          <button class="add-to-cart">Add to Cart</button>
        </div>
        <button class="close-details">&times;</button>
      </div>
    </div>


    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <div class="footer-section">
          <h3>Contact Us</h3>
          <p><i class="fas fa-envelope"></i> macarooondesert@gmail.com</p>
          <p>
            <a
              href="https://wa.me/905376739769"
              target="_blank"
              class="whatsapp-link"
            >
              <i class="fab fa-whatsapp"></i> +90 537 673 9769
            </a>
          </p>
        </div>
        <div class="footer-section">
          <h3>Visit Us</h3>
          <p><i class="fas fa-map-marker-alt"></i> Kƒ±zƒ±lƒ±rmak Mahallesi</p>
          <p>Dumlupƒ±nar Bulvarƒ± No: 42</p>
          <p>√áankaya, Ankara 06520</p>
        </div>
        <div class="footer-section">
          <h3>Hours</h3>
          <p>Monday - Friday: 8:00 - 20:00</p>
          <p>Saturday - Sunday: 9:00 - 21:00</p>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2024 Macarooon. All rights reserved.</p>
      </div>
    </footer>
    <script>
      // Sample allergens data map
      const allergensData = {
        "Classic Chocolate Chip": "Gluten, Eggs, Dairy",
        "Banana Macaron": "Eggs, Nuts",
        "Brownie Batter Cookie": "Gluten, Eggs, Dairy",
        "Matcha Cookie": "Gluten, Eggs, Dairy",
        "Original Tiramisu": "Dairy, Eggs",
        "Cherry Macaron": "Eggs, Nuts",
        "Strawberry Cheesecake": "Dairy, Eggs",
        "Strawberry Christmas Macaron": "Eggs, Nuts",
        "Matcha Tiramisu": "Dairy, Eggs",
        "Red Velvet Macaron": "Eggs, Dairy",
        "Chocolate Macaron": "Eggs, Nuts"
      };

      document.querySelectorAll('.details-btn').forEach(button => {
        button.addEventListener('click', () => {
          const card = button.closest('.menu-card');
          const image = card.querySelector('img').src;
          const title = card.querySelector('h4')?.textContent || 'No title';
          const desc = card.querySelector('.desc')?.textContent || 'No description';
          const allergens = allergensData[title] || "Not specified";
          const price = card.querySelector('.price')?.textContent.replace('‚Ç∫', '') || "0";


          document.getElementById('modalImage').src = image;
          document.getElementById('modalTitle').textContent = title;
          document.getElementById('modalDesc').textContent = desc;
          document.querySelector('#modalAllergens span').textContent = allergens;
          document.querySelector('#modalPrice span').textContent = card.querySelector('.price').textContent.replace('‚Ç∫', '');

          const modalAddToCartBtn = document.querySelector('#detailsModal .add-to-cart');
          modalAddToCartBtn.setAttribute('data-name', title);
          modalAddToCartBtn.setAttribute('data-price', price);
          modalAddToCartBtn.setAttribute('data-image', image);

          document.getElementById('detailsModal').classList.remove('hidden');
        });
      });

      // Close modal
      document.querySelector('.close-details').addEventListener('click', () => {
        document.getElementById('detailsModal').classList.add('hidden');
      });

      // Optional: close on background click
      document.getElementById('detailsModal').addEventListener('click', e => {
        if (e.target.id === 'detailsModal') {
          e.target.classList.add('hidden');
        }
      });
    </script>
    <script src="script_menu.js"></script>
  </body>
</html>
